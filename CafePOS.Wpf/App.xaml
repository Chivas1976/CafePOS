<!-- CafePOS.Wpf/App.xaml -->
<Application x:Class="CafePOS.Wpf.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:CafePOS.Wpf.ViewModels"
             xmlns:views="clr-namespace:CafePOS.Wpf.Views">
    <Application.Resources>
        <DataTemplate DataType="{x:Type vm:MainMenuViewModel}">
            <views:MainMenuView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:CustomerStartViewModel}">
            <views:CustomerStartView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:ProductMenuViewModel}">
            <views:ProductMenuView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:OrderManagementViewModel}">
            <views:OrderManagementView/>
        </DataTemplate>
        <!-- ViewModel -> View -->
   

        <!-- ====== Osnovni stilovi koje drugi XAML-ovi koriste ====== -->
        <SolidColorBrush x:Key="AccentBrush"       Color="#2563EB"/>
        <SolidColorBrush x:Key="AccentBrushHover"  Color="#1D4ED8"/>
        <SolidColorBrush x:Key="SoftBorderBrush"   Color="#E5E7EB"/>

        <!-- Naslov H2 -->
        <Style x:Key="Title2" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>

        <!-- Primarno dugme -->
        <Style x:Key="PrimaryButton" TargetType="Button">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="{StaticResource AccentBrush}"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border CornerRadius="6" Background="{TemplateBinding Background}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="6,2"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource AccentBrushHover}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Sekundarno dugme (outlined) -->
        <Style x:Key="SecondaryButton" TargetType="Button">
            <Setter Property="Foreground" Value="{StaticResource AccentBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border CornerRadius="6"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" Margin="6,2"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#EEF2FF"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Application.Resources>
</Application>


<!-- CafePOS.Wpf/Views/ProductMenuView.xaml --><!--
<UserControl x:Class="CafePOS.Wpf.Views.ProductMenuView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <DockPanel Margin="12">

        --><!-- Gornja traka: nazad + kategorije --><!--
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,8">
            <Button Content="← Zurück" Command="{Binding ZurueckCmd}" Margin="0,0,12,0"/>
            <TextBlock Text="Bestellung aufgeben" FontWeight="Bold" FontSize="16" VerticalAlignment="Center"/>

            <StackPanel Orientation="Horizontal" Margin="24,0,0,0">
                <Button Content="Alle"     Margin="0,0,6,0" Click="Alle_Click"/>
                <Button Content="Knödel"   Margin="0,0,6,0" Click="Knoedel_Click"/>
                <Button Content="Getränke"                 Click="Getraenke_Click"/>
            </StackPanel>
        </StackPanel>

        --><!-- Dve kolone: 50% / 50% --><!--
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            --><!-- ===================== LEVO: SPEISEKARTE ===================== --><!--
            <DockPanel Grid.Column="0" Margin="0,0,8,0">
                --><!-- Pretraga i filter --><!--
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="0,0,0,8">
                    <TextBlock Text="Suche:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <TextBox Width="220"
                             Text="{Binding Suchtext, UpdateSourceTrigger=PropertyChanged}"
                             ToolTip="Nach Name oder ID filtern"/>
                    <Button Content="Zurücksetzen" Margin="8,0,0,0"
                            Command="{Binding FilterZuruecksetzenCmd}"/>
                    <CheckBox Content="Nur verfügbare" Margin="12,0,0,0"
                              IsChecked="{Binding NurVerfuegbar}"/>
                </StackPanel>

                <TextBlock Text="Speisekarte" FontWeight="Bold" FontSize="16"
                           Margin="0,0,0,8" DockPanel.Dock="Top"/>

                --><!-- DONJE dugme PRE DataGrid-a --><!--
                <Button Content="In den Warenkorb"
                        Margin="0,8,0,0"
                        DockPanel.Dock="Bottom"
                        Command="{Binding InWarenkorbCmd}"/>

                --><!-- DataGrid MORA biti poslednji u DockPanel-u --><!--
                <DataGrid ItemsSource="{Binding ArtikelView}"
                          SelectedItem="{Binding AusgewaehlterArtikel, Mode=TwoWay}"
                          AutoGenerateColumns="False"
                          IsReadOnly="{Binding IstSpeisekarteReadOnly}"
                          SelectionMode="Single"
                          SelectionUnit="FullRow"
                          MouseDoubleClick="Speisekarte_DoubleClick">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID"       Width="70" Binding="{Binding Id, Mode=TwoWay}" />
                        <DataGridTextColumn Header="Name"     Width="*"  Binding="{Binding Name, Mode=TwoWay, ValidatesOnDataErrors=True}" />
                        <DataGridTextColumn Header="Preis (€)" Width="120" Binding="{Binding Preis, Mode=TwoWay, ValidatesOnDataErrors=True, StringFormat={}{0:F2}}" />
                        <DataGridTextColumn Header="Lager (x)" Width="120" Binding="{Binding Menge, Mode=TwoWay, ValidatesOnDataErrors=True}" />
                    </DataGrid.Columns>
                </DataGrid>
            </DockPanel>

            --><!-- ===================== DESNO: WARENKORB ===================== --><!--
            <Grid Grid.Column="1" Margin="8,0,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    --><!-- naslov --><!--
                    <RowDefinition/>
                    --><!-- tabela --><!--
                    <RowDefinition Height="Auto"/>
                    --><!-- donji panel sa sumama i dugmadima --><!--
                </Grid.RowDefinitions>

                --><!-- Naslov --><!--
                <TextBlock Grid.Row="0"
                           Text="Warenkorb"
                           FontWeight="Bold" FontSize="16"
                           Margin="0,0,0,8"/>

                --><!-- Tabela korpe --><!--
                <DataGrid Grid.Row="1" x:Name="WarenkorbGrid"
                          ItemsSource="{Binding Warenkorb}"
                          SelectedItem="{Binding AusgewaehltePosition, Mode=TwoWay}"
                          AutoGenerateColumns="False"
                          IsReadOnly="True"
                          GridLinesVisibility="None">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Name"       Width="*"   Binding="{Binding Name}" />
                        <DataGridTextColumn Header="Einzel (€)"  Width="96"  Binding="{Binding Einzelpreis, StringFormat={}{0:F2}}" />
                        <DataGridTextColumn Header="Menge"       Width="72"  Binding="{Binding Menge}" />
                        <DataGridTextColumn Header="Gesamt (€)"  Width="110" Binding="{Binding Gesamt, StringFormat={}{0:F2}}" />
                    </DataGrid.Columns>
                </DataGrid>

                --><!-- Donji panel: kartica, PDV, sume, dugmad -->
                <!-- Donji panel: kartica, PDV, sume, dugmad (sa prelamanjem) --><!--
                <ScrollViewer Grid.Row="2"
              Margin="0,8,0,0"
              VerticalScrollBarVisibility="Disabled"
              HorizontalScrollBarVisibility="Auto">
                    <WrapPanel Orientation="Horizontal">
                        <CheckBox Content="BitAndBiteCard (-10%)"
                  IsChecked="{Binding BitAndBiteCard}" Margin="0,0,12,0"/>
                        <CheckBox Content="MwSt" IsChecked="{Binding MwstAktiv}" Margin="0,0,4,0"/>
                        <TextBox Width="40" Text="{Binding MwstSatz}" Margin="0,0,12,0" ToolTip="MwSt in %"/>

                        <TextBlock Text="Zwischensumme:" VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding Zwischensumme, StringFormat={}{0:F2} €}"
                   Margin="4,0,12,0" VerticalAlignment="Center"/>

                        <TextBlock Text="Rabatt:" VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding RabattBetrag, StringFormat={}{0:F2} €}"
                   Margin="4,0,12,0" VerticalAlignment="Center"/>

                        <TextBlock Text="MwSt:" VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding MwstBetrag, StringFormat={}{0:F2} €}"
                   Margin="4,0,12,0" VerticalAlignment="Center"/>

                        <TextBlock Text="Summe:" VerticalAlignment="Center" FontSize="14"/>
                        <TextBlock Text="{Binding Gesamtsumme, StringFormat={}{0:F2} €}"
                   FontWeight="Bold" FontSize="14" Margin="4,0,16,0"
                   VerticalAlignment="Center"/>

                        <Button Content="Aus Warenkorb"
                Margin="0,0,8,0"
                Command="{Binding AusWarenkorbCmd}"
                CommandParameter="{Binding SelectedItem, ElementName=WarenkorbGrid}"/>
                        <Button Content="Alles löschen"
                Margin="0,0,8,0"
                Command="{Binding AllesLoeschenCmd}"/>
                        <Button Content="Bezahlen &amp; speichern"
                Command="{Binding BelegSpeichernCmd}"/>
                    </WrapPanel>
                </ScrollViewer>
            </Grid>
        </Grid>
    </DockPanel>
</UserControl>-->
